/*! angular-leaflet-directive-ext Version: 0.2.1 */
angular.module("leaflet-directive.ext.filter",["leaflet-directive"]).config(function(e){"use strict";e.decorator("controlsDirective",function(e,t){var r=e[0],l=r.link;return r.compile=function(){return function(e,r,i,n){if(l.apply(this,arguments),n){var o=t.isDefined,f=n.getLeafletScope(),u=f.controls;n.getMap().then(function(e){if(null!=L&&null!=L.Control&&o(L.Control.Filter)&&null!=u&&o(u.filter)){var t=new L.FeatureGroup,r={position:"topright",filter:{rectangle:{}},filterGroup:t};angular.extend(r,u.filter),u.filter=r,e.addLayer(r.filterGroup);var l=new L.Control.Filter(r);e.addControl(l),f.$watch("controls.filter.shape",function(e,t){e!=t&&l.setFilter(e)});var i=function(e){null!=u&&null!=u.filter&&u.filter.model!==e.geo&&(u.filter.model=e.geo)};e.on("filter:filter",i),f.$on("$destroy",function(){e.off("filter:filter",i)})}})}}},e})});