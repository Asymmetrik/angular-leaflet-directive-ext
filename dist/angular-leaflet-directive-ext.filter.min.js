/*! angular-leaflet-directive-ext Version: 0.2.2 */
angular.module("leaflet-directive.ext.filter",["leaflet-directive"]).config(function(e){"use strict";e.decorator("controlsDirective",function(e,t,r){var l=e[0],n=l.link;return l.compile=function(){return function(e,l,i,o){if(n.apply(this,arguments),o){var f=r.isDefined,a=o.getLeafletScope(),u=a.controls;o.getMap().then(function(e){if(null!=L&&null!=L.Control&&f(L.Control.Filter)&&null!=u&&f(u.filter)){var r=new L.FeatureGroup,l={position:"topright",filter:{rectangle:{}},filterGroup:r};angular.extend(l,u.filter),u.filter=l,e.addLayer(l.filterGroup);var n=new L.Control.Filter(l);e.addControl(n),a.$watch("controls.filter.shape",function(e,t){e!==t&&n.setFilter(e)});var i=function(e){null!=u&&null!=u.filter&&(n.equals(u.filter.shape,e.geo)||t(function(){u.filter.shape=e.geo}))};e.on("filter:filter",i),a.$on("$destroy",function(){e.off("filter:filter",i)})}})}}},e})});